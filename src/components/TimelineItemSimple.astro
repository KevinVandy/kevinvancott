---
interface Props {
	dateRange: string;
	company: string;
	link: string;
	logo: string;
	logoHeight: number;
	logoWidth: number;
	title: string;
	index: number;
}

const { dateRange, company, link, logo, logoHeight, logoWidth, title, index } = Astro.props;
---

<div class="group relative">
	<div class="absolute left-1/2 h-full -translate-x-1/2 self-start bg-slate-300 dark:bg-slate-600 px-px group-last:hidden">
	</div>
	<div
		class="absolute left-1/2 box-content h-2 w-2 -translate-x-1/2 rounded-full border-4 border-slate-50 dark:border-slate-900 bg-indigo-600"
	>
	</div>

	<time
		class={`absolute ${index % 2 === 0 ? 'left-[calc(50%+0.5rem)]' : 'right-[calc(50%+0.5rem)]'} inline-flex h-auto min-h-[1.5rem] w-[6rem] items-center justify-center rounded-full bg-emerald-100 dark:bg-emerald-900 px-2 py-1 text-xs font-semibold uppercase text-emerald-600 dark:text-emerald-300 sm:text-center`}
	>
		{dateRange}
	</time>

	<div
		class={`relative w-[28rem] rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-4 shadow-sm ${
			index % 2 === 0 ? 'ml-[calc(50%+8rem)]' : 'ml-[calc(50%-36rem)]'
		}`}
	>
		<div class={`mb-1 flex items-start justify-between ${index % 2 === 1 ? 'flex-row-reverse' : ''}`}>
			<div class="font-caveat text-2xl font-medium text-indigo-500 dark:text-indigo-400 sm:mb-0">
				<a href={link} target="_blank" rel="noopener noreferrer">{company}</a> - {title}
			</div>
			{
				logo && (
					<img
						src={logo}
						alt={`${company} logo`}
						height={logoHeight}
						width={logoWidth}
						class={`${index % 2 === 0 ? 'ml-4' : 'mr-4'}`}
					/>
				)
			}
		</div>
	</div>
</div>
